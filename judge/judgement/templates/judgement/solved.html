{% extends "judgement/layout.html" %}
{% load static %}

{% block body %}
<div class="container my-4">
    <h1 class="text-center text-success mb-4">Correct! :)</h1>
    <h2 class="text-center mb-4">Passed All Tests!</h2>
    <h3 class="text-center mb-4">The below statistics are totals for all tests run.</h3>

    <!-- TODO: add collapsable to hide this data on first click. -->
    <div class="accordion" id="statsAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                    aria-expanded="false" aria-controls="collapseOne">
                    Cycles used
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                data-bs-parent="#statsAccordion">
                <div class="accordion-body">
                    <h2>Cycles used: {{ user_solution.cycles|floatformat }} ({{ cycle_percentile }} percentile, Ranked
                        {{ cycle_rank }}/{{ out_of_rank }})</h2>
                    <img src="data:image/png;base64,{{ cycle_hist }}" alt="Cycle histogram" class="img-fluid">
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    ROM used
                </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                data-bs-parent="#statsAccordion">
                <div class="accordion-body">
                    <h2>ROM used: {{ user_solution.rom|floatformat }} ({{ rom_percentile }} percentile, Ranked {{
                        rom_rank }}/{{ out_of_rank }})</h2>
                    <img src="data:image/png;base64,{{ rom_hist }}" alt="ROM Histogram" class="img-fluid">
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    RAM used
                </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                data-bs-parent="#statsAccordion">
                <div class="accordion-body">
                    <h2>RAM used: {{ user_solution.ram|floatformat }} ({{ ram_percentile }} percentile, Ranked {{
                        ram_rank }}/{{ out_of_rank }})</h2>
                    <img src="data:image/png;base64,{{ ram_hist }}" alt="RAM Histogram" class="img-fluid">
                </div>
            </div>
        </div>
    </div>

    <!-- TODO: add the top users code here. -->
</div>
{% endblock %}